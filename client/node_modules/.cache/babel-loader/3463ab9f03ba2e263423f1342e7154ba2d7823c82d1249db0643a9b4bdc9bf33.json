{"ast":null,"code":"var _jsxFileName = \"D:\\\\Dropbox\\\\Study\\\\Programming\\\\Toy_Projects\\\\221101_N_Surfer\\\\N-Surfer\\\\client\\\\src\\\\context\\\\ModalContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React from 'react';\nimport { useState } from 'react';\nimport { createContext, useContext } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ModalsStateContext = /*#__PURE__*/createContext([]);\n\n// modal을 열고 닫는 함수\nexport const ModalsDispatchContext = /*#__PURE__*/createContext({\n  open: () => {},\n  close: () => {}\n});\nexport const ModalsProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [openedModals, setOpenedModals] = useState([]);\n  const open = (Component, props) => {\n    setOpenedModals(modals => {\n      return [...modals, {\n        Component,\n        props\n      }];\n    });\n  };\n  const close = Component => {\n    setOpenedModals(modals => {\n      return modals.filter(modal => modal.Component !== Component);\n    });\n  };\n  const dispatch = {\n    open,\n    close\n  };\n  return /*#__PURE__*/_jsxDEV(ModalsDispatchContext.Provider, {\n    value: dispatch,\n    children: /*#__PURE__*/_jsxDEV(ModalsStateContext.Provider, {\n      value: openedModals,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 7\n  }, this);\n};\n_s(ModalsProvider, \"dbUj1Om/coQwZPKqJVg/Kh/44xA=\");\n_c = ModalsProvider;\nexport const Modals = () => {\n  _s2();\n  const openedModals = useContext(ModalsStateContext);\n  const {\n    close\n  } = useContext(ModalsDispatchContext);\n  return openedModals.map((modal, index) => {\n    const {\n      Component,\n      props\n    } = modal;\n    const {\n      onSubmit,\n      ...restProps\n    } = props;\n    const onClose = () => {\n      close(Component);\n    };\n    const handleSubmit = async () => {\n      if (typeof onSubmit === \"function\") {\n        await onSubmit();\n      }\n      onClose();\n    };\n    return /*#__PURE__*/_jsxDEV(Component, {\n      onClose: onClose,\n      handleSubmit: handleSubmit,\n      ...restProps\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }, this);\n  });\n};\n_s2(Modals, \"OCANVw2D0LcvCaLfvCZsrIEE830=\");\n_c2 = Modals;\nexport function useModals() {\n  _s3();\n  const {\n    open,\n    close\n  } = useContext(ModalsDispatchContext);\n  const openModal = (Component, props) => {\n    open(Component, props);\n  };\n  const closeModal = Component => {\n    close(Component);\n  };\n  return {\n    openModal,\n    closeModal\n  };\n}\n_s3(useModals, \"nReznIb9prZ5ovPKQ0ncpAlMK0Q=\");\nvar _c, _c2;\n$RefreshReg$(_c, \"ModalsProvider\");\n$RefreshReg$(_c2, \"Modals\");","map":{"version":3,"names":["React","useState","createContext","useContext","ModalsStateContext","ModalsDispatchContext","open","close","ModalsProvider","children","openedModals","setOpenedModals","Component","props","modals","filter","modal","dispatch","Modals","map","index","onSubmit","restProps","onClose","handleSubmit","useModals","openModal","closeModal"],"sources":["D:/Dropbox/Study/Programming/Toy_Projects/221101_N_Surfer/N-Surfer/client/src/context/ModalContext.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useState } from 'react';\r\nimport { createContext, useContext } from 'react'\r\n\r\nexport const ModalsStateContext = createContext([]);\r\n\r\n// modal을 열고 닫는 함수\r\nexport const ModalsDispatchContext = createContext({\r\n    open: () => {},\r\n    close: () => {}\r\n});\r\n\r\nexport const ModalsProvider = ({children}) => {\r\n  const [openedModals, setOpenedModals] = useState([]);\r\n  const open = (Component, props) => {\r\n      setOpenedModals((modals) => {\r\n          return [...modals, { Component, props }];\r\n      });\r\n  }\r\n  const close = (Component) => {\r\n      setOpenedModals((modals) => {\r\n        return modals.filter(modal => modal.Component !== Component);\r\n      });\r\n  }\r\n  \r\n  const dispatch = {open, close};\r\n  return (\r\n      <ModalsDispatchContext.Provider value={dispatch}>\r\n          <ModalsStateContext.Provider value={openedModals}>\r\n              {children}\r\n          </ModalsStateContext.Provider>\r\n      </ModalsDispatchContext.Provider>\r\n  );\r\n}\r\n\r\nexport const Modals = () => {\r\n  const openedModals = useContext(ModalsStateContext);\r\n  const { close } = useContext(ModalsDispatchContext);\r\n  \r\n  return openedModals.map((modal, index) => {\r\n      const { Component, props } = modal;\r\n      const { onSubmit, ...restProps } = props;\r\n      \r\n      const onClose = () => {\r\n          close(Component);\r\n      }\r\n      const handleSubmit = async () => {\r\n          if (typeof onSubmit === \"function\") {\r\n              await onSubmit();\r\n          }\r\n          onClose();\r\n      };\r\n      \r\n      return (\r\n          <Component\r\n              key={index}\r\n              onClose={onClose}\r\n              handleSubmit = {handleSubmit}\r\n              {...restProps}\r\n          />\r\n      \r\n      );\r\n      \r\n  });\r\n}\r\n\r\nexport function useModals() {\r\n  const { open, close } = useContext(ModalsDispatchContext);\r\n\r\n  const openModal = (Component, props) => {\r\n    open(Component, props);\r\n  };\r\n  const closeModal = (Component) => {\r\n    close(Component);\r\n  };\r\n  return { openModal, closeModal };\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}